### Login to get token (Tour Operator)
POST {{baseUrl}}/api/Auth/login
Content-Type: application/json

{
  "email": "operator@example.com",
  "password": "password123"
}

### Login to get token (Tour Guide)
POST {{baseUrl}}/api/Auth/login
Content-Type: application/json

{
  "email": "guide@example.com",
  "password": "password123"
}

### Test Authentication (any authenticated user)
GET {{baseUrl}}/api/TourGuideAssignment/test-auth
Authorization: Bearer {{token}}
Content-Type: application/json

### Test TourGuideAssignment API với logic kiểm tra cùng ngày

### 1. Tạo assignment đầu tiên cho TourGuide
POST {{baseUrl}}/api/TourGuideAssignment
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "tourId": 1,
  "departureDateId": 1,
  "tourGuideId": 1,
  "assignedDate": "2024-01-15T00:00:00",
  "isLeadGuide": true
}

### 2. Thử tạo assignment thứ hai cho cùng TourGuide trong cùng ngày (sẽ báo lỗi)
POST {{baseUrl}}/api/TourGuideAssignment
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "tourId": 2,
  "departureDateId": 2,
  "tourGuideId": 1,
  "assignedDate": "2024-01-15T00:00:00",
  "isLeadGuide": false
}

### 3. Tạo assignment cho TourGuide khác trong cùng ngày (sẽ thành công)
POST {{baseUrl}}/api/TourGuideAssignment
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "tourId": 2,
  "departureDateId": 2,
  "tourGuideId": 2,
  "assignedDate": "2024-01-15T00:00:00",
  "isLeadGuide": true
}

### 4. Tạo assignment cho cùng TourGuide trong ngày khác (sẽ thành công)
POST {{baseUrl}}/api/TourGuideAssignment
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "tourId": 3,
  "departureDateId": 3,
  "tourGuideId": 1,
  "assignedDate": "2024-01-16T00:00:00",
  "isLeadGuide": false
}

### 5. Test multiple assignments
POST {{baseUrl}}/api/TourGuideAssignment/multiple
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "tourId": 4,
  "departureDateId": 4,
  "tourGuides": [
    {
      "tourGuideId": 3,
      "isLeadGuide": true
    },
    {
      "tourGuideId": 4,
      "isLeadGuide": false
    }
  ]
}

### 6. Lấy danh sách assignments theo departure date
GET {{baseUrl}}/api/TourGuideAssignment/departure-date/1
Authorization: Bearer {{token}}

### 7. Lấy danh sách assignments của TourGuide
GET {{baseUrl}}/api/TourGuideAssignment/my-assignments
Authorization: Bearer {{token}}

### 8. Xóa assignment
DELETE {{baseUrl}}/api/TourGuideAssignment/1
Authorization: Bearer {{token}}

### Variables
@baseUrl = https://localhost:7001
@token = your_jwt_token_here 