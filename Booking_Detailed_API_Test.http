### Booking Detailed API Tests

# Base URL
@baseUrl = https://localhost:7001
@authToken = your_jwt_token_here

### 1. Get Customer Bookings (Detailed Response)
# Role: Customer
# Description: Get all bookings for the authenticated customer with detailed response
GET {{baseUrl}}/api/booking/customer?TourName=Hạ%20Long
Authorization: Bearer {{authToken}}
Content-Type: application/json

###

### 2. Get Tour Operator Bookings (Detailed Response)
# Role: Tour Operator
# Description: Get all bookings for tours created by the authenticated tour operator with detailed response
GET {{baseUrl}}/api/booking/tour-operator?TourName=Hạ%20Long&UserName=Nguyen
Authorization: Bearer {{authToken}}
Content-Type: application/json

###

### 3. Get All Bookings (Admin, Detailed Response)
# Role: Admin
# Description: Get all bookings in the system with detailed response
GET {{baseUrl}}/api/booking/admin?TourName=Travel%20Viet&UserName=John
Authorization: Bearer {{authToken}}
Content-Type: application/json

###

### 4. Get Bookings (General, Detailed Response)
# Description: Get all bookings with detailed response
GET {{baseUrl}}/api/booking
Authorization: Bearer {{authToken}}
Content-Type: application/json

###

## Expected Response Format

The new detailed response format includes:

```json
{
  "bookings": [
    {
      "bookingId": 1,
      "tour": {
        "title": "Hạ Long Bay Adventure",
        "maxSlots": 50,
        "transportation": "Bus",
        "startPoint": "Hanoi"
      },
      "booking": {
        "bookingDate": "2024-01-15T10:30:00",
        "contract": "contract_url_here",
        "noteForTour": "Special dietary requirements"
      },
      "guest": {
        "numberOfAdults": 2,
        "numberOfChildren": 1,
        "numberOfInfants": 0,
        "totalGuests": 3
      },
      "billingInfo": {
        "username": "John Doe",
        "email": "john@example.com",
        "phone": "0123456789",
        "address": "123 Main St, Hanoi"
      },
      "paymentInfo": {
        "totalPrice": 1500.00,
        "paymentStatus": "Paid",
        "bookingStatus": "Confirmed"
      }
    }
  ]
}
```

## Test Instructions

1. **Replace the auth token**: Replace `your_jwt_token_here` with a valid JWT token obtained from login
2. **Test by role**: 
   - Use endpoint 1 for Customer role
   - Use endpoint 2 for Tour Operator role
   - Use endpoint 3 for Admin role
   - Use endpoint 4 for general access
3. **Expected responses**:
   - 200 OK: Successful retrieval with detailed structured response
   - 401 Unauthorized: Invalid or missing token
   - 403 Forbidden: Wrong role for the endpoint

## Notes

- All endpoints now return detailed structured responses
- Tour information includes Title, MaxSlots, Transportation, StartPoint
- Booking information includes BookingDate, Contract, NoteForTour
- Guest information includes breakdown by age groups and total count
- Billing information includes Username, Email, Phone, Address
- Payment information includes TotalPrice, PaymentStatus, BookingStatus 